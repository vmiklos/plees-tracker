{"author":{"id":"471a882371b38fe965ac5b5f66a4a0c62ced8f63a4bd237bb22a92fe2326cd3e"},"ops":[{"type":2,"author":{"id":"471a882371b38fe965ac5b5f66a4a0c62ced8f63a4bd237bb22a92fe2326cd3e"},"timestamp":1692387043,"metadata":{"github-id":"RTE_lADODbKJfs5t4FA5zwAAAAJb-Y7q"},"nonce":"O6EFV5mUG3qyiDscOWyCAEHPVO4=","title":"ArrowOS: Import File does not import data from exported csv file","was":"Import File does not import data from exported csv file"},{"type":3,"author":{"id":"471a882371b38fe965ac5b5f66a4a0c62ced8f63a4bd237bb22a92fe2326cd3e"},"timestamp":1692387303,"metadata":{"github-id":"IC_kwDODbKJfs5kZTwc","github-url":"https://github.com/vmiklos/plees-tracker/issues/407#issuecomment-1684356124"},"nonce":"dYFDTj+osvYETGc8rGUjCuzl+/Q=","message":"adb logcat reports (sanitized):\n\n```\njava.io.FileNotFoundException: Failed to open document for writing plees-tracker.csv\n        at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:151)\n        at android.content.ContentProviderProxy.openAssetFile(ContentProviderNative.java:705)\n        at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:1860)\n        at android.content.ContentResolver.openOutputStream(ContentResolver.java:1562)\n        at android.content.ContentResolver.openOutputStream(ContentResolver.java:1537)\n        at hu.vmiklos.plees_tracker.DataModel.exportDataToFile(DataModel.kt:290)\n        at hu.vmiklos.plees_tracker.DataModel$exportDataToFile$1.invokeSuspend(Unknown Source:18)\n```\n\nNow the question is why openOutputStream() throws an exception even after takePersistableUriPermission(FLAG_GRANT_WRITE_URI_PERMISSION) happily succeeds (i.e. doesn't throw a SecurityException).\n\nThe plan is to read some of the k9 mail code which reportedly works fine in this case; and probably need to figure out how to install this ArrowOS in an emulator to be able to reproduce \u0026 fix the problem locally.","files":null}]}