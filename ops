{"author":{"id":"eae6be14d480a91c3e324ce079a0dcae5829df590c8e82c24e0128018f79a4ed"},"ops":[{"type":1,"author":{"id":"eae6be14d480a91c3e324ce079a0dcae5829df590c8e82c24e0128018f79a4ed"},"timestamp":1619269452,"nonce":"c1cpWn0K1Ogbu9udWfKLxNnwM0M=","title":"Automatic backup does not happen after editing a sleep","message":"**Reproducer steps**\n1. Create a sleep with start/stop\n2. Backup file gets automatically updated\n3. Edit a sleep\n\n**Actual result**\nBackup file stays the same\n\n**Expected behavior**\nBackup file should get updated after editing as well. Without this, the backup stays out of date whenever a sleep is edited.\n\n**Cause**\nbackupSleeps() only gets called inside startStop() inside the main activity:\nhttps://github.com/vmiklos/plees-tracker/blob/c82a64841d883b29d18ae47f7ae6b0276b27f298/app/src/main/java/hu/vmiklos/plees_tracker/MainActivity.kt#L263-L267\n\nbut not inside updateSleep():\nhttps://github.com/vmiklos/plees-tracker/blob/c82a64841d883b29d18ae47f7ae6b0276b27f298/app/src/main/java/hu/vmiklos/plees_tracker/SleepViewModel.kt#L71-L76","files":null}]}